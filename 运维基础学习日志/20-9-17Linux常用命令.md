# 注意事项和Linux常用命令

## 学习Linux的注意事项

1. Linux严格区分大小写
2. Linux一切皆文件
3. Linux不靠拓展名区分文件类型（在实际使用中使用拓展名帮助使用者区分不同的文件类型）
4. Linux中所有的存储设备都必须在挂载后才能使用
5. Windows下的程序不能直接在Linux中使用

## 服务器管理建议

1. 了解Linux目录结构
2. 远程服务器关机及重启的注意事项
    1. 远程服务器在重启前，要终止正在执行的服务
    2. 重启命令的选用（建议使用`shutdown -r now` ，并在重启前执行几次`sync` 命令（数据同步命令）,可以暂时将存在内存中的数据同步到硬盘上）
3. 不要在服务器访问高峰运行高负载命令
4. 远程配置防火墙时不要把自己踢出服务器
5. 制定合理的密码规范并定期更新（三原则）
6. 合理分配权限（给予用户最小权限）
7. 定期备份重要数据和日志

## 文件和命令使用规范

### Linux文件的命名规则

1. Linux中一切皆文件
2. 除了`/` 之外，所有字符都合法，但有些字符最好不用，如空格和字符@#￥%……&（）-等
3. 避免使用`.` 作为第一个字符（Linux中，以`.` 开头的文件是隐藏文件）
4. 大小写敏感，严格区分大小写（包括文件名、命令、选项、用户名等）

### Linux命令格式

格式；命令 -选项 参数（操作对象）

1. 当有多个选项时，可以写在一起（特殊情况下有先后顺序）
2. 两个特殊目录，`.` 和`..` ，分别代表当前目录和上级目录（当前目录的父目录）
3. 部分命令不遵循此格式

### Linux命令提示符

[root@localhost /]#

[登录用户@主机名缩写 当前所在目录]用户身份提示符

＃代表超级管理员（root）

$ 代表普通用户

### 路径

绝对路径：从/目录开始写的目录结构（完整路径）

相对路径：从当前路径或上级路径开始写起的目录结构

### 文件管理命令

#### 显示目录

~~~shell
ls # 显示指定目录内的文件列表（默认当前目录）
    -a # 显示所有文件（包括特殊目录和隐藏文件）
    -l # 以长列表形式显示，ls -l 别名为 ll
    -h # 使用合适单位显示文件大小
    -d # 显示目录本身信息，常以-ld形式出现
    -i # 显示文件索引节点号（inode），每个文件的inode独一无二
~~~

文件存储时，会有两部分数据

1. 属性相关数据：inode（文件权限、类型、归属（2）、时间（3））、文件的唯一标识号

2. 文件内容数据：data block

    **元数据：文件权限、类型、归属（2）、时间（3）**

目录保存了文件的文件名

注：文件的 inode 在文件进行修改后会变更

长格式信息解释：

| 列数 | 信息                                           |
| ---- | ---------------------------------------------- |
| 1    | 类型和文件权限                                 |
| 2    | 引用计数；目录文件表示子目录数量               |
| 3    | 文件属主                                       |
| 4    | 文件属组                                       |
| 5    | 文件大小（对于设备文件显示的是设备类型和序号） |
| 6    | 最后一次修改时间                               |
| 7    | 文件名                                         |

文件类型和权限，共10位长度

第一位，文件类型

| 标志 | 文件类型                                                     |
| ---- | ------------------------------------------------------------ |
| -    | 普通文件（文本、压缩包、配置文件...）使用`file` 命令查看更具体的类型 |
| d    | 目录文件                                                     |
| b    | 块设备文件（存储类设备）                                     |
| c    | 字符设备文件（传输数据的设备）                               |
| l    | 软连接文件-快捷方式                                          |
| s    | 套接字文件                                                   |
| p    | 管道文件                                                     |

第一列结尾的`.` SELinux标记

#### 切换目录

~~~shell
cd # 切换到指定目录（默认家目录）
# 超级管理员(root)家目录:/root
# 普通管理员(user)家目录：/home/user
# 例子
cd /root/abc/ # 切换到/root下的abc目录
~~~

| 特殊目录 | 作用             |
| -------- | ---------------- |
| ~        | 当前用户的家目录 |
| -        | 之前所在目录     |
| .        | 当前目录         |
| ..       | 上级目录         |

~~~shell
pwd # 显示当前所在路径
~~~

#### 创建目录

~~~shell
mkdir # 创建目录
# 选项
    -p # 递归创建
# 例子
mkdir /root/abc/e/f # 递归创建/root 下的abc目录和其中的e目录和其中的f目录
~~~

#### 删除

~~~shell
rm # 删除指定文件 CentOS中 rm 是 rm -i 的别名
# 选项
    -i # 删除前询问
    -f # 不询问，强制删除
    -r # 递归删除
# 例子
rm a # 删除当前目录文件a
rm -rf /root/abc/ # 强制删除/root下的abc文件夹

rmdir # 删除空目录
~~~

~~~shell
alias # 查看已经生效的别名
~~~
