## 常用命令补充

挂载镜像文件（*.iso)：

-o loop # 挂载本地文件到某挂载点

~~~shell
mount -o loop *.iso /mnt # 挂载镜像文件
~~~

使挂载永久生效（/etc/fstab)

| 挂载设备（设备名 \| UUID） | 挂载点 | 文件系统 | 挂载属性（default） | 0    | 0    |
| -------------------------- | ------ | -------- | ------------------- | ---- | ---- |
| /dev/sr0                   | /media | iso9660  | default             | 0    | 0    |

此配置文件中所填写的挂载映射关系，会每次开机时自动执行，开机自动挂载

## vi 和 vim 编辑器

vim 是 vi 的升级版

1.  增加了代码高亮功能（仅特殊文件）
2.  增加了字符坐标

### 工作模式

*   命令模式（进入vim后的默认模式）：使用一些指令性命令对文件内容进行操作，多是一些快速处理文本的方法
*   输入模式（编辑模式）：文件内容的编辑模式，用来编写和修改文件
*   末行模式：特殊的命令模式

进入输入模式的方法（在命令模式下）：

*   a 在光标所在字符后插入；A 在光标所在行尾插入
*   i 在光标所在字符前插入；I 在光标所在行首插入
*   o 在光标下插入新行；O 在光标上插入新行

进入末行模式（在命令模式下）：

*   `shift + ;` # 冒号

进入命令模式：

*   在其他模式下按`ESC` 键

### 命令模式下操作

#### 光标移动

~~~shell
上下左右箭头移动
h j k l # 按键移动
gg # 移动到文件头
G # 移动到文件尾
^ #移动到行首
$ # 移动到行尾
~~~

#### 删除、复制和剪切等操作

~~~shell
x # 删除光标当前所在字符
nx # 从当前光标处删除指定n个字符；例如：10x

dd # 删除光标所在行
ndd # 删除从当前光标处的连续n行；例如：5dd
dG # 从光标处删除到文件尾

yy # 复制光标所在行内容
nyy # 从当前行连续复制多行内容

p # 将缓存中的内容粘贴到当前所在行的下边
P（大）# 将缓存中的内容粘贴到当前所在行的上边

r # 替换光标所在字符
R # 从光标所在处开始连续替换，直至按 ESC 结束

u # 撤销内容编辑的操作，可连续操作
ctrl+r # 反撤销，可连续使用

/ # 从光标所在处向下查询
? # 从光标所在处向上查询
n # 定位下一个查到的关键词
N # 定位上一个查到的关键词
~~~

### 末行模式相关操作

~~~shell
:n # 移动光标到指定行

:n,md # 删除从n行到第m行的内容

:set nu # 显示行号
:set nonu # 取消显示行号

:noh # 取消因查询造成的颜色高亮

:ns /old/new/ # 将指定第n行的第一个 old 替换为 new
:ns /old/new/g # 将特定第n行的所有 old 替换为 new
# 例子
:1,10s /^/#/ 将文件的第1-10行开头添加#注释
:%s /^#// # 将全文每一行开头的#删除
:1,10s /^/\/\// # 将文件的第1-10行开头添加//注释
# \字符：转义字符，取消指定字符的特殊功能，使其变为普通符号

:r 文件路径 # 将其他文件的内容导入到当前文件的光标所在处

:!命令 # 在文件中执行命令，查看命令结果
:r !命令 # 在文件中执行命令，但不显示结果，而是将结果插入到光标所在处

:w # 将修改保存到文档中（仅仅是保存，相当于ctrl+s，但不退出）
:w filename # 另存为
:wq # 保存并退出
:wq! # 强制保存并退出

:q # 退出文档，在保存后使用来退出；未修改内容，退出
:q! # 强制退出，如果修改了文档，不保存修改

:ab 简 繁 # 定义一个简单的字符串，代表后续的繁杂的字符串
# 例子
:ab mymail wyz1536881165@163.com

:map 快捷键 功能 # 定义快捷键，快速执行某项操作
# 例子
:map ^B ^x # ^B是使用ctrl+v+b按出的，当使用ctrl+b时，删除行首第一个字符（会忽略空格）
~~~

vim的配置文件位置：/etc/vimrc

## 别名

取消别名：unalias 别名

别名永久生效：

单个用户：~/.bashrc

所有用户：/etc/bashrc

刷新配置文件：

source ~/.bashrc

